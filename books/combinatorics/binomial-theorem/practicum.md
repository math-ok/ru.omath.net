^ binom article|t:binom

^ productRule article|combinatorics/rules/product|definition:rule-of-product
^ sumRule article|combinatorics/rules/sum|definition:rule-of-sum

^ combinations article|combinatorics/combination|t:combinations

@task
    title: Умножение многочленов
    statement: |
        Раскройте скобки в выражении

        $$ (a+b+c)(x+y+z)(n+m) $$
    hint: |
        Составьте все возможные комбинации из трех элементов.
        На первом месте в комбинации буквы из первой скобки, на втором -- из второй, на третьем из третьей.

        Чтобы не запутаться, сначала выписывайте комбинации, начинающиеся с $a$, потом с $b$ и, наконец, с $c$.
    solution: |
        Находим произведение трех скобок "комбинаторным" способом, то есть выписываем все комбинации из трех элементов. На первом месте в комбинации буквы из первой скобки, на втором -- из второй, на третьем из третьей.

        Сначала выпишем все комбинации с $a$ на первом месте:

        @math
            \begin{array}{}
                axn & axm & ayn & aym & azn & azm
            \end{array}

        Затем все те же комбинации, но заменив на первом месте $a$ на $b$:

        @math
            \begin{array}{}
                bxn & bxm & byn & bym & bzn & bzm
            \end{array}

        И наконец с $c$ на первом месте:

        @math
            \begin{array}{}
                cxn & cxm & cyn & cym & czn & czm
            \end{array}

        Финальное разложение:

        $$ (a+b+c)(x+y+z)(n+m) = \\ axn + axm + ayn + aym + azn + azm + bxn + bxm + byn + bym + bzn + bzm + cxn + cxm + cyn + cym + czn + czm $$
    answer: |
        Всего $18$ слагаемых:

        $$ (a+b+c)(x+y+z)(n+m) = \\ axn + axm + ayn + aym + azn + azm + bxn + bxm + byn + bym + bzn + bzm + cxn + cxm + cyn + cym + czn + czm $$

@task
    title: Считаем слагаемые
    statement: |
        Найдите количество слагаемых после раскрытия скобок в произведении:

        $$ (a+b)(a+c)(c+d)(n+m+e) $$
    hint: |
        Изучите решение [примера](article|example:polynom-product) из статьи.<br>
        Используйте [правило произведения](^productRule).
    solution: |
        Умножаются четыре многочлена, значит каждое слагаемое после раскрытия скобок будет являться комбинацией $4$ букв.

        Первую букву можно выбрать $2$ способами ($a$ или $b$).
        Вне зависимости от выбранной первой буквы, вторую можно выбрать тоже $2$ способами ($a$ или $c$).
        С третьей то же самое, а четвертую букву можно выбрать $3$ способами ($n, m$ или $e$).

        Как видим, выбор очередной буквы не влияет на количество способов выбрать следующую.
        Поэтому мы можем использовать [правило произведения](^productRule) и найти общее количество комбинаций, то есть слагаемых:

        $$ 2\cdot 2 \cdot 2\cdot 3 = 2^3 \cdot 3 = 24 $$
    answer: $24$

@todo
    title: Задача на изучение пободия
    content: |
        Найдите количество подобных слагаемых после раскрытия скобов в выражении

        $$ (b+c+d)(x+c+d)(x+c) $$

        Три пункта, от самого простого, к самому сложному.

@todo
    title: Примеры и задачи на бином из "Комбинаторика Олимпиаднику"
    content: |
        https://mathus.ru/math/kombinatorika.pdf

@task
    title: Слагаемые бинома Ньютона
    statement: |
        Сколько слагаемых получается в сумме после использования бинома Ньютона?
    hint: |
        Воспользуйтесь [формулой](article|important:term) общего члена разложения или компактным видом [формулы](^binom) бинома Ньютона.
    solution: |
        Выпишем [формулу](article|important:term) общего члена разложения.

        $$ T_k = C_n^k a^{n-k}b^k $$

        Биномиальный коэффициент есть у каждого слагаемого.
        Начинается отсчет с $0$ ($C_n^0$), а заканчивается на $n$ ($C_n^n$).
        Значит в сумме всего $n+1$ слагаемых!

        ### Через компактный вид

        Ответ можно получить и через компактный вид формулы:

        $$ (a+b)^n = \sum\limits_{k=0}^n C_n^k a^{n-k}b^k $$

        Видим, что переменная $k$ пробегает все значения от $0$ до $n$ и при каждом значении образует слагаемое.
        Всего $n+1$ слагаемых.
    answer:
        $n+1$

@task
    title: Формулы бинома Ньютона
    statement: |
        Напишите формулу бинома Ньютона для степеней биномов:

        $$ а) \ (1+x)^7 \qquad б) \ (t - 2)^6 \qquad в) \left(\frac{1}{x} - x\right)^6 $$
    solution: |
        Каждый раз пользуемся [формулой](^binom) бинома Ньютона и проводим предварительные упрощения, если это возможно.
        
        Также держим в голове, что нам нужно считать только половину биномиальных коэффициентов до середины разложения, а потом они начнут повторяться!

        ### Пункт а)

        Для начала проведем небольшое упрощение:

        @math
            (1+x)^7 = \sum\limits_{k=0}^7 C_7^k 1^{7-k}x^k = \sum\limits_{k=0}^7 C_7^k x^k

        Теперь просто берем каждое значение $k$ от $0$ до $7$ и подставляем его в полученную упрощенную формулу:

        $$ 1 + 7x + 21x^2 + 35x^3 + 35x^4 + 21x^5 + 7x^6 + x^7 $$

        ### Пункт б)

        Упрощаем.
        Обратите отдельное внимание, что для удобства определения минуса мы $(-2)^k$ разбили на два множителя: $(-1)^k$ и $2^k$.

        @math
            (t-2)^6 = \sum\limits_{k=0}^6 C_6^k t^{6-k} (-2)^k = \sum\limits_{k=0}^6 C_6^k (-1)^k t^{6-k} 2^k

        Расписываем полную формулу:

        @math
            t^6 - 12t^5 + 60t^4 - 160t^3 + 240t^2 - 192t + 64

        ### Пункт в)
        
        Упрощаем:

        $$ \left(\frac{1}{x} - x\right)^6 = \sum\limits_{k=0}^6 C_6^k \left(\frac{1}{x}\right)^{6-k}(-x)^k = \\ = \sum\limits_{k=0}^6 C_6^k (-1)^k \frac{x^k}{x^{6-k}} = \sum\limits_{k=0}^6 C_6^k (-1)^k x^{2k - 6} $$

        Расписываем полную формулу:

        $$ \frac{1}{x^6} - 6 \frac{1}{x^4} + 12 \frac{1}{x^2} - 20 + 12x^2 - 6x^4 + x^6 $$
    answer: |
        ### Пункт а)

        $$ 1 + 7x + 21x^2 + 35x^3 + 35x^4 + 21x^5 + 7x^6 + x^7 $$

        ### Пункт б)

        @math
            t^6 - 12t^5 + 60t^4 - 160t^3 + 240t^2 - 192t + 64

        ### Пункт в)

        $$ \frac{1}{x^6} - 6 \frac{1}{x^4} + 12 \frac{1}{x^2} - 20 + 12x^2 - 6x^4 + x^6 $$

    similar:
        -   statement: |
                $$ (1+2a)^5 = \ ? $$
            answer: |
                $$ 1 + 10 a + 40 a^2 + 80 a^3 + 80 a^4 + 32 a^5 $$

        -   statement: |
                $$ \left(\frac{1}{x} - 1 \right)^5 = \ ? $$
            answer: |
                $$ \frac{1}{x^5} - \frac{5}{x^4} + \frac{10}{x^3} - \frac{10}{x^2} + \frac{5}{x} - 1 $$

        -   statement: |
                $$ \left(\sqrt{\frac{a}{b}} - \sqrt{\frac{b}{a}}\right)^5 = \ ? $$
            solution: |
                Упрощаем:

                $$ \left(\sqrt{\frac{a}{b}} - \sqrt{\frac{b}{a}}\right)^5 = \sum\limits_{k=0}^5 C_5^k \sqrt{\frac{a}{b}}^{5-k}\left(-\sqrt{\frac{b}{a}}\right)^k = \\ = \sum\limits_{k=0}^5 C_5^k (-1)^k \left(\frac{a}{b}\right)^{\small\frac{5-k}{2}}\left(\frac{a}{b}\right)^{\small-\frac{k}{2}} = \sum\limits_{k=0}^5 C_5^k (-1)^k \left(\frac{a}{b}\right)^{\small\frac{5-2k}{2}} $$

                Расписываем полную формулу:

                @math
                    \left(\frac{a}{b}\right)^{\small \frac{5}{2}} -
                    5\left(\frac{a}{b}\right)^{\small \frac{3}{2}} +
                    10\left(\frac{a}{b}\right)^{\small \frac{1}{2}} -
                    10\left(\frac{b}{a}\right)^{\small \frac{1}{2}} +
                    5\left(\frac{b}{a}\right)^{\small \frac{3}{2}} -
                    \left(\frac{b}{a}\right)^{\small \frac{5}{2}}
            answer: |
                @math
                    \left(\frac{a}{b}\right)^{\small \frac{5}{2}} -
                    5\left(\frac{a}{b}\right)^{\small \frac{3}{2}} +
                    10\left(\frac{a}{b}\right)^{\small \frac{1}{2}} -
                    10\left(\frac{b}{a}\right)^{\small \frac{1}{2}} +
                    5\left(\frac{b}{a}\right)^{\small \frac{3}{2}} -
                    \left(\frac{b}{a}\right)^{\small \frac{5}{2}}

@task
    title: Номерной член разложения
    statement: |
        Найдите шестой член разложения степени бинома:

        $$ (x^2 + 4)^{10} $$
    hint: |
        Воспользуйтесь [формулой](article|important:term) общего члена разложения.
    solution: |
        Выпишем [формулу](article|important:term) общего члена разложения.

        $$ T_k = C_n^k a^{n-k}b^k $$

        Нас же просят найти шестой член ($k=6$ и $n=10$) и при этом $a= x^2$, а $b = 4$.
        Подставляем эти данные и считаем:

        $$ C_{10}^6 (x^2)^{(10-6)} y^6 = \frac{10!}{4! \ 6!} (x^2)^4 y^6 = 210x^8y^6 $$
    answer: |
        $$ 210x^8y^6 $$
    similar:
        -   statement: |
                Найдите седьмой член разложения степени бинома:

                $$ \left( \sqrt{a} - \sqrt[3]{b} \right)^{13} $$
            solution: |
                Подставляем нужные значения в формулу общего вида члена разложения и считаем:

                $$ C_{13}^7 \sqrt{a}^{(13 - 7)} \sqrt[3]{b}^7 = \frac{13!}{6! \ 7!} \sqrt{a}^6 \sqrt[3]{b}^7 = 1716a^3\sqrt[3]{b}^7 $$
            answer: |
                $$ 1716a^3\sqrt[3]{b}^7 $$

        -   statement: |
                Найдите четвертый член разложения степени бинома:

                $$ \left( \sqrt[3]{x} + \frac{1}{\sqrt[3]{x}} \right)^9 $$
            solution: |
                Подставляем нужные значения в формулу общего вида члена разложения и считаем:

                $$ C_9^4 \sqrt[3]{x}^{(9-4)}\left(\frac{1}{\sqrt[3]{x}}\right)^4 = \frac{9!}{5! \ 4!} \frac{ \sqrt[3]{x}^5 }{\sqrt[3]{x}^4} = 126 \sqrt[3]{x} $$
            answer: |
                $$ 126 \sqrt[3]{x} $$

@task
    title: Независимый член разложения
    statement: |
        Найти не зависящий от $x$ член разложения степени бинома:

        $$ \left(2x - \frac{1}{x^3}\right)^{8} $$
    hint: |
        Воспользуйтесь [формулой](article|important:term) общего члена разложения.
    solution: |
        Выпишем [формулу](article|important:term) общего члена разложения.

        $$ T_k = C_n^k a^{n-k}b^k $$

        Подставим в нее данные из условия:

        $$ C_8^k (2x)^{(8-k)} \left(\frac{1}{x^3}\right)^k $$

        Преобразуем это выражение так, чтобы было удобнее работать с $x$:

        $$ C_8^k (2x)^{(8-k)} \left(\frac{1}{x^3}\right)^k = C_8^k 2^{(8-k)} x^{(8-k)} \frac{1}{x^{3k}} = \\ = C_8^k 2^{8-k} \frac{x^{8-k}}{x^{3k}} = C_8^k 2^{8-k}x^{8-4k} $$

        Нам нужно найти не зависящий от $x$ член разложения, значит нужно сделать так, чтобы $x$ оказался в нулевой степени:

        $$ 8-4k = 0 \\ 8 = 4k \\ \boxed{k = 2} $$

        Итак, $x$ окажется в нулевой степени и исчезнет из второго члена разложения степени бинома!
        Подставляем и считаем, чему будет равен сам член:

        $$ C_8^2 2^{8-2} x^{8 - 4\cdot 2} = \frac{8!}{6! \ 2!} 2^6 x^0 = 28 \cdot 64 \cdot 1 = 1536 $$
    answer: $1536$
    similar:
        -   statement: |
                Найдите не зависящий от $x$ член разложения степени бинома:

                $$ \left( \frac{1}{x} + \sqrt{x} \right)^{12} $$
            solution: |
                Подставляем данные условия в формулу общего вида члена разложения:

                $$ C_{12}^k \left(\frac{1}{x}\right)^{12 - k} \sqrt{x}^k = C_{12}^k \frac{x^{\frac{k}{2}}}{x^{12-k}} = C_{12}^k x^{\frac{k}{2} - 12 + k} $$

                Нам нужно найти такой член разложения, в которым $x$ не присутсвует.
                Единственный способ это сделать -- найти такое $k$, при котором показатель степени $x$ станет равен $0$:

                $$ \frac{k}{2} - 12 + k = 0 \\ \frac{3}{2}k = 12 \\ \boxed{k=8} $$

                Итак, $x$ окажется в нулевой степени и исчезнет из восьмого члена разложения степени бинома!
                Подставляем и считаем, чему будет равен сам член:

                $$ C_{12}^8 x^0 = \frac{12!}{4! \ 8!} \cdot 1 = 495 $$
            answer: $495$

        -   statement: |
                Найдите не зависящий от $a$ член разложения степени бинома:

                $$ \left(a^{\frac{1}{3}} + a^{-\frac{1}{2}} \right)^{15} $$
            solution: |
                Подставляем данные условия в формулу общего вида члена разложения:

                $$ C_{15}^k  a^{\frac{1}{3}(15 - k)} a^{-\frac{1}{2}k} = C_{15}^k a^{5 - \frac{1}{3}k - \frac{1}{2}k} $$

                Нам нужно найти такой член разложения, в которым $a$ не присутсвует.
                Единственный способ это сделать -- найти такое $k$, при котором показатель степени $a$ станет равен $0$:

                $$ 5 - \frac{1}{3}k - \frac{1}{2}k = 0 \\ 5  = \frac{5}{6}k \\ \boxed{k = 6} $$

                Итак, $a$ окажется в нулевой степени и исчезнет из шестого члена разложения степени бинома!
                Подставляем и считаем, чему будет равен сам член:

                $$ C_{15}^6 a^0 = \frac{15!}{9! \ 6!} \cdot 1 = 5005 $$
            answer: $5005$

@task
    title: Зависимый член разложения
    statement: |
        Найдите:

        а) Член разложения $(x + \sqrt{2})^{13}$, содрежащий $x^8$;<br>
        б) Член разложения $(\sqrt{x} + 1)^{14}$, содержащий $x^6$;<br>
        в) Член разложения $(x^5 + 1)^{1980}$, содержащий $x^{1980}$.
    hint: |
        Воспользуйтесь [формулой](article|important:term) общего члена разложения.
    solution: |
        ### Пункт а)

        Выпишем [формулу](article|important:term) общего члена разложения.

        $$ T_k = C_n^k a^{n-k}b^k $$

        Подставляем в него данные из условия:

        $$ C_{13}^k x^{13-k}\sqrt{2}^k $$

        В полученной формуле показатель $x$ вычисляется как $13-k$.
        Нам надо найти при каком $k$ он станет равен $8$:

        $$ 13-k = 8 \\ \boxed{k =10} $$

        Итак, мы ищем десятый член разложения:

        $$ C_{13}^{10} x^8 \sqrt{2}^{10} = 286 \cdot x^8 \cdot 2^5 = 9152 x^8 $$

        ### Пункт б)

        Подставляем данные из условия в общий член разложения:

        $$ C_{14}^k \sqrt{x}^{14 - k} 1^k = C_{14}^k x^{\small \frac{14-k}{2}} $$

        Нам нужно, чтобы показатель степени у $x$ стал равен $6$:

        $$ \frac{14-k}{2} = 6 \\ 14 - k = 12 \\ \boxed{k = 2} $$

        Итак, мы ищем второй член разложения:

        $$ C_{14}^2 x^6 = 91x^6 $$

        ### Пункт в)

        Подставляем данные из условия в общий член разложения:

        $$ C_{1980}^k (x^5)^{1980 - k} 1^k = C_{1980}^k x^{5(1980-k)} $$

        Нам нужно, чтобы показатель степени у $x$ стал равен $1980$:

        $$ 5(1980 - k) = 1980 \\ 1980 - k = 396 \\ \boxed{k=1584} $$

        Итак, мы ищем член разложения под номером $1584$:

        $$ C_{1980}^{1584} x^{1980} $$
    answer: |
        а) $9152 x^8$;<br>
        б) $91x^6$;<br>
        в) $C_{1980}^{1584} x^{1980}$.

@task
    title: Целые члены разложения
    statement: |
        Для каждого разложения найдите, сколько их членов являются целыми числами:

        $$ а) \ (\sqrt{2} + \sqrt[3]{3})^5 \qquad б) \ (\sqrt{5} - \sqrt{2})^8 \qquad в) \ (\sqrt{3} + \sqrt[4]{5})^{124} $$
    hint: |
        Биномиальные коэффициенты влияния не оказывают, их можно не рассматривать.
        Ищите такие показали степени, чтобы корни превращались в целые числа.
    solution: |
        Биномиальный коэффициент $C_n^k$ всегда является целым числом, потому что он по определению является количеством сочетаний (комбинаций) из $n$ элементов по $k$.
        Не может быть нецелым количество комбинаций!

        Поэтому при решении этой задачи биномиальные коэффициенты можно вообще отбросить и не рассматривать.
        Они все равно никак не могут из корней сделать целые числа.

        ### Пункт а)

        Выпишем все члены разложения без биномиальных коэффициентов и посмотрим, какие из них окажутся целыми:

        $$ \sqrt{2}^5 + \sqrt{2}^4\sqrt[3]{3}^1 + \sqrt{2}^3\sqrt[3]{3}^2 + \underbrace{{\sqrt{2}^2\sqrt[3]{3}^3}}_{\small = 2\cdot 3 = 6} + \sqrt{2}\sqrt[3]{3}^4 + \sqrt[3]{3}^5 $$

        Итак, только один член разложения окажется целым числом.

        ### Пункт б)

        Имеем два множителя, причем каждый это корень второй степени, который превращается в целое число, когда его возводят в четную степень: $0, 2, 4$ и так далее.

        Когда один множитель в четной степени (например, во $2$), его сосед [тоже будет](spoiler:even-explain) четной степени ($8-2=6$).
        Поэтому в этом разложении в каждом четном члене оба корня будут превращаться в целые числа, а всего таких четных членов $5$.

        { #even-explain }
        @spoiler
            Четные числа идут друг за другом как раз с шагом в $2$:

            $$ 0 \quad 2 \quad 4 \quad 6 \quad 8 \ldots $$

        ### Пункт в)

        Множитель $\sqrt[4]{5}$ будет превращаться в целое число каждый раз, когда его показатель степени будет делиться нацело на $4$, то есть будет иметь вид $4t$.
        Его сосед $\sqrt{3}$ будет иметь показатель $124-4t$, что тоже является четным числом, а значит и он тоже станет целым числом.

        Другими словами, целыми числами будут все члены разложения следующего вида:

        $$ \sqrt{3}^{124-4t} \sqrt[4]{5}^{4t} $$

        Подходят все $t$ от $0$ включительно до $124 : 4 = 31$, то есть всего $32$ члена разложения.
    answer: |
        $$ a) \ 1 \qquad б) \ 5 \qquad в) \ 32 $$

@task
    title: В поисках коэффициента
    statement: |
        Найдите коэффициент многочлена:

        а) $(x + y)^{16}$ при $x^3y^{13}$;<br>
        б) $(x + y + z)^{6}$ при $x^2y^2z^2$;<br>
        в) $(1+x^2-x^3)^9$ при $x^7$;<br>
        г) $(1 + x^2 + x^3)^{7}$ при $x^{11}$.
    hint: |
        Воспользуйтесь [формулой](article|important:term) общего члена разложения бинома Ньютона.
        <br>
        В пунктах с трехчленами выделите любые два одночлена скобками и рассматривайте полученные одночлены со скобками как биномы.
    solution: |
        ### Пункт а)

        Воспользуемся [формулой](article|important:term) общего члена разложения бинома Ньютона:

        $$ C_{16}^kx^{16-k}y^k $$

        $y$ в интересующем нас члене находится в $13$ степени, значит нам нужен $13$-й член:

        $$ C_{16}^{13} x^3y^{13} $$

        Коэффициент равен $C_{16}^{13}$ или $560$.

        ### Пункт б)

        Выберем любые два одночлена, например $y$ и $z$, и поместим их в скобки.
        Тогда трехчлен превращается в бином, который можно разложить по формуле бинома Ньютона, а значит можно использовать формулу общего члена разложения:

        $$ C_6^k x^{6-k}(y+z)^k $$

        $x$ должен быть во второй степени, значит $6-k = 2$, откуда $k=4$:

        $$ C_6^4 x^2(y+z)^4 $$

        Теперь те же самые действия проводим с $4$-ой степенью бинома $(y+z)^4$.
        Выписываем его формулу общего члена:

        $$ C_6^4 x^2 C_4^i y^{4-i}z^i $$

        $z$ должна быть во второй степени, поэтому $i =2$:

        $$ C_6^4 C_4^2 x^2y^2z^2 $$

        Коэффициент равен $C_6^4 C_4^2$ или $90$

        ### Пункт в)

        Здесь скобками окружим члены $1$ и $x^2$ и выпишем формулу общего члена разложения:

        $$ C_{9}^k (1+x^2)^{9-k}(-x^3)^k $$

        $x$ должен быть в $11$ степени, но прямо сейчас такую степень получить не получится.
        Поэтому выписываем все $k$, которые дают степени меньше $7$:

        @math
            \def\arraystretch{1.5}
            \begin{array}{}
                k = 0 & C_9^0 (1+x^2)^9 x^0
                \\
                k = 1 & -C_9^1 (1+x^2)^8 x^3
                \\
                k = 2 & C_9^2 (1+x^2)^7 x^6
            \end{array}

        Впишем вместо скобок формулу общего ее общего члена (единицу опускаем):

        @math
            \def\arraystretch{1.5}
            \begin{array}{}
                k = 0 & C_9^0 С_9^i x^{2i} x^0
                \\
                k = 1 & -C_9^1 C_8^i x^{2i} x^3
                \\
                k = 2 & C_9^2 C_7^i x^{2i} x^6
            \end{array}

        Варианты $k=0$ и $k=2$ отбрасываем, потому что $2i$ даст четное число и в сумме с уже имеющимися четными показателями $0$ и $6$ число $7$ получить никак не выйдет.

        @math
            \def\arraystretch{1.5}
            \begin{array}{}
                k = 1 & -C_9^1 C_8^i x^{2i} x^3
            \end{array}

        Для получения $7$ нужно взять $i=2$:

        $$ -C_9^1 C_8^2 x^{11} $$

        Коэффициент равен $-252$.

        ### Пункт г)

        Здесь скобками окружим члены $1$ и $x^2$ и выпишем формулу общего члена разложения:

        $$ C_{7}^k (1+x^2)^{7-k}(x^3)^k $$

        $x$ должен быть в $11$ степени, но прямо сейчас такую степень получить не получится.
        Поэтому выписываем все $k$, которые дают степени меньше $11$:

        @math
            \def\arraystretch{1.5}
            \begin{array}{}
                k = 0 & C_7^0 (1+x^2)^7 x^0
                \\
                k = 1 & C_7^1 (1+x^2)^6 x^3
                \\
                k = 2 & C_7^2 (1+x^2)^5 x^6
                \\
                k = 3 & C_7^3 (1+x^2)^4 x^9
            \end{array}

        Впишем вместо скобок формулу общего ее общего члена (единицу опускаем):

        @math
            \def\arraystretch{1.5}
            \begin{array}{}
                k = 0 & C_7^0 C_7^i x^{2i} x^0
                \\
                k = 1 & C_7^1 C_6^i x^{2i} x^3
                \\
                k = 2 & C_7^2 C_5^i x^{2i} x^6
                \\
                k = 3 & C_7^3 C_4^i x^{2i} x^9
            \end{array}

        Варианты $k=0$ и $k=2$ отбрасываем, потому что $2i$ даст четное число и в сумме с уже имеющимися четными показателями $0$ и $6$ число $11$ получить никак не выйдет.

        @math
            \def\arraystretch{1.5}
            \begin{array}{}
                k = 1 & C_7^1 C_6^i x^{2i} x^3
                \\
                k = 3 & C_7^3 C_4^i x^{2i} x^9
            \end{array}

        Для получения $11$ в первой строчке надо взять $i = 4$, а во второй $i = 1$.
        Получаем два подобных слагаемых:

        $$ C_7^1 C_6^4 x^{11} + C_7^3C_4^1x^{11} = (C_7^1 C_6^4 + C_7^3C_4^1)x^{11} $$

        Вычислив сумму в скобках находим коэффициент $245$.
    answer: |
        $$ a) \ 560 \quad б) \ 90 \quad в) \ -252 \quad г) \ 245 $$

@task
    title: Наибольший коэффициент
    statement: |
        Найдите наибольший коэффициент многочлена после разложения:

        $$ а) \ \left( \frac{1}{4} + \frac{3}{4}x \right)^4 \qquad б) \ (3 + 2x)^{2024} \qquad в) \ (\sqrt{5} - \sqrt{2}x)^{20} $$
    hint: |
        С помощью [формулы](article|important:term) общего вида члена разложения получите формулу коэффициента.

        Поделите друг на друга "текущий" и "следующий" коэффициенты, чтобы найти максимальный.
    solution: |
        Выпишем [формулу](article|important:term) общего члена разложения.

        $$ T_k = C_n^k a^{n-k}b^k $$

        ### Пункт а)

        Подставляем данные в общий вид члена и преобразуем его:

        $$ C_4^k \left(\frac{1}{4}\right)^{4-k}\left(\frac{3}{4}x\right)^k = C_4^k \frac{3^k}{4^{4-k}4^k}x^k = \boxed{C_4^k \frac{3^k}{4^4}}x^k $$

        Теперь нам нужно разобраться, при каком $k$ коэффициент будет самым большим:

        $$ C_4^k \frac{3^k}{4^4} $$

        $4^4$ это константа, ее можно не рассматривать:

        $$ С_4^k3^k $$

        Есть два варианта:

        1. При $k=4$ будет максимальной показатель степени тройки $3^4$. Но тогда мы получим минимальный биномиальный коэффициент $C_4^4 = 1$.
        2. Можно попробовать взять $k=3$ или $k=2$, потому что при этих значениях будет увеличиваться биномиальный коэффициент.

        Более маленькие значения $k$ можно не рассматривать, так как биномиальные коэффициенты будут [такими же](article|theorem:binom-coeff-repeat), а показатель степени тройки еще меньше.

        $$ C_4^2 3^2 = 6\cdot 9 = 54 \\ C_4^3 3^3 = 4 \cdot 27 = 108 \\ C_4^4 3^4 = 1 \cdot 81 = 81 $$

        Итак, наибольший коэффициент будет при $k=3$:

        $$ C_4^3 \frac{3^3}{4^4} = \frac{108}{256} = \frac{27}{64} $$

        ### Пункт б)

        Подставляем данные в общий вид члена и преобразуем его:

        $$ C_{2024}^k 3^{2024 - k}(2x)^k = \boxed{C_{2024}^k 3^{2024} \frac{2^k}{3^k}}x^k $$

        Теперь нам нужно разобраться, при каком $k$ коэффициент будет самым большим:

        $$ C_{2024}^k 3^{2024} \frac{2^k}{3^k} $$

        $3^{2024}$ это константа, ее можно рассматривать:

        $$ C_{2024}^k \frac{2^k}{3^k} $$

        Найдем отношение "следующего" коэффициента к "предыдущему".
        Если оно не меньше, единицы, то и следующий коэффициент не меньше предыдущего:

        @math
            \frac{C_{2024}^{k+1}\dfrac{2^{k+1}}{3^{k+1}}}{C_{2024}^k\dfrac{2^k}{3^k}} \geq 1
            \\
            \frac{2024!}{(2024 - k - 1)! \ (k+1)!} \frac{(2024 - k)! \ k!}{2024!} \cdot \frac{2^{k+1} 3^k}{2^k 3^{k+1}} \geq 1
            \\
            \frac{2024 - k}{k}\cdot\frac{2}{3} \geq 1
            \\
            4048 - 2k \geq 3k
            \\
            4048 \geq 5k
            \\
            k \leq \frac{4048}{5} = 809.6

        Итак, при $k=809$ коэффициент будет наибольшим:

        $$ C_{2024}^{809} 3^{2024} \left(\frac{2}{3}\right)^{809} $$

        ### Пункт в)

        Подставляем данные в общий вид члена и преобразуем его:

        $$ C_{20}^k \sqrt{5}^{20-k}(-\sqrt{2}x)^k = C_{20}^k (-1)^k \sqrt{5}^{20-k}\sqrt{2}^kx^k = \\ = C_{20}^k (-1)^k \sqrt{\frac{5^{20}}{5^k}2^k}x^k = \boxed{C_{20}^k (-1)^k 5^{10}\left(\frac{2}{5}\right)^{\small \frac{k}{2}}} x^k $$

        $x^k$ на коэффициент не влияет, $5^{10}$ это константа, ее тоже можно не рассматривать.
        В итоге нам нужно максимизировать следующее выражение:

        $$ C_{20}^k (-1)^k \left(\frac{2}{5}\right)^{\small \frac{k}{2}} $$

        При нечетных $k$ коэффициент будет отрицательным, поэтому их сразу не рассматриваем, а заодно убираем $(-1)^k$:

        $$ C_{20}^k \left(\frac{2}{5}\right)^{\small \frac{k}{2}}, \quad k \ - \ четное $$

        Найдем отношение "следующего" коэффициента к "предыдущему".
        Если оно не меньше, единицы, то и следующий коэффициент не меньше предыдущего:

        @math
            \frac{C_{20}^{k+1}\left(\frac{2}{5}\right)^{\small\frac{k+1}{2}}}{C_{20}^{k}\left(\frac{2}{5}\right)^{\small\frac{k}{2}}} \geq 1
            \\
            \frac{20!}{(20 - k - 1)! \ (k + 1)!} \frac{(20 - k)! \ k!}{20!} \left(\frac{2}{5}\right)^{\small \frac{k+1-k}{2}} \geq 1
            \\
            \frac{20-k}{k}\sqrt{\frac{2}{5}} \geq 1
            \\
            20 - k \geq \sqrt{2.5}k
            \\
            20 \geq k(1 + \sqrt{2.5})
            \\
            k \leq \frac{20}{1 + \sqrt{2.5}} \approx 7.7\ldots

        Максимальным по модулю коэффициент будет при $k = 7$, но так как $7$ число нечетное, то знак у коэффициента будет отрицательным.
        Поэтому максимальным коэффициент будет при $k=6$:

        $$ C_{20}^6 \left(\frac{2}{5}\right)^35^{10} $$
    answer:
        $$ а) \ \frac{27}{64} \qquad б) \ C_{2024}^{809} 3^{2024} \left(\frac{2}{3}\right)^{809} \quad в) \ C_{20}^6 \left(\frac{2}{5}\right)^35^{10} $$

@task
    title: Сумма коэффициентов
    tags:
        - Красивая
    statement: |
        Найдите сумму коэффициентов многочлена, получающегося после раскрытия скобок:

        $$ a) \ (4x-5)^{21} \quad б) \ \left( 3\sqrt{2}x - \frac{5y}{\sqrt{2}} \right)^8 \quad в) \ (4x-3y)^{2024}(z-2x)^{2025} $$
    hint: |
        Ни бином Ньютона, ни биномиальные коэффициенты, ни комбинаторика в решении этой задачи не требуются.
    solution: |
        После раскрытия скобок (например, по [формуле](^binom) бинома Ньютона) мы получим множество слагаемых, каждое из которых будет состоять из коэффициента и $x$ в какой-то степени.
        Если мы хотим найти сумму только коэффициентов, то от этого $x$ надо избавиться.
        Сделать это можно, приравняв его к $1$!

        Итак, сумма коэффициентов любого многочлена равна его значению, когда все переменные, от которых он зависит (например, $x$), равны $1$.

        ### Пункт а)

        $$ (4\cdot 1 - 5)^{21} = (-1)^21 = -1 $$

        ### Пункт б)

        $$ \left(3\sqrt{2}\cdot 1 - \frac{5\cdot 1}{\sqrt{2}}\right)^8 = \left(\frac{6 - 5}{\sqrt{2}}\right)^8 = \frac{1}{\sqrt{2}^8} = \frac{1}{2^4} = \frac{1}{16} $$

        ### Пункт в)

        @math
            (4\cdot 1 - 3\cdot 1)^{2024}(1-2\cdot 1)^{2025} = 1^{2024}(-1)^{2025} = -1

    answer: |
        $$ а) \ -1 \quad б) \ \frac{1}{16} \quad в) \ -1 $$

{ #coeff-sum }
@task
    title: Биномиальная сумма
    statement: |
        Найдите сумму всех биномиальных коэффициентов:

        $$ C_n^0 + C_n^1 + C_n^2 + \ldots + C_n^n $$
    hint: |
        Эта сумма похожа на использование [формулы](^binom) бинома Ньютона при $a=b=1$.
    solution: |
        Данная сумма похожа на [формулу](^binom) бинома Ньютона, но как-бы "без" $a$ и $b$, только с биномиальными коэффициентами.
        Допишем к каждому слагаемому этой суммы единицы в таких степенях, чтобы мы смогли использовать формулу бинома Ньютона при $a=b=1$ и "запаковать" эту сумму:

        $$ C_n^0 1^n 1^0 + C_n^1 1^{n-1}1^1 + \ldots + C_n^n 1^01^n = (1+1)^n = 2^n $$

        Так как приписанные единицы ни на что не влияют, то и сумма из условия тоже равна $2^n$:

        $$ C_n^0 + C_n^1 + C_n^2 + \ldots + C_n^n = 2^n $$
    answer: $2^n$
    note: |
        Полученный результат находит интересное применение в теории множеств.

        Сочетание [является](article|combinatorics/combination|spoiler:set-theory-example) множеством.
        Биномиальный коэффициент это количество сочетаний, то есть количество $k$-элементных подмножеств некоторого $n$-элементного множества.

        В этой задаче мы просуммировали все возможные количества сочетаний, а значит нашли число вообще всех возможных подмножеств $n$-элементного множества.
        
        Теперь нам не нужно вручную считать подмножества!
        Например, мы можем сразу сказать, что, у множества $\set{a,b,c}$ всего $2^3 = 8$ подмножеств:

        $$ \underbrace{\set{\varnothing}}_{\small C_3^0} \quad \underbrace{\set{a} \ \set{b} \ \set{c}}_{\small C_3^1} \quad \underbrace{\set{a,b} \ \set{a,c} \ \set{b,c}}_{\small C_3^2} \quad \underbrace{\set{abc}}_{\small C_3^3} $$

        Итак, число всех подмножеств множества, содержащего $n$ элементов, равно $2^n$.

@task
    title: Да будет свет!
    statement: |
        Для освещения зала может быть включена каждая из имеющихся $10$ ламп.
        Сколько существует различных способов освещения зала?
    hint: |
        Используйте результат задачи "[Биномиальная сумма](task:coeff-sum)".
    solution: |
        Пусть для освещения зала мы решили включить $k$ ламп.
        Выбрать $k$ ламп для включения из всех $10$ ламп [можно](spoiler:lamp-variants) $C_{10}^k$ способами.

        { #lamp-variants }
        @spoiler
            Порядок выбора $k$ ламп для включения не важен.
            При таком условии каждый способ включить лампы является [сочетанием](article|combinatorics/combination|d:combination) из $10$ доступных ламп по $k$ включенным лампам.
            [Количество](^combinations) таких сочетаний равно $C_{10}^k$.

        Но само количество включенных ламп $k$ может быть любым в прожемутке от $1$ до $10$.
        Поэтому нам нужно [просуммировать](^sumRule) количество способов включить $1$ лампу, $2$ лампы и так далее:

        $$ C_{10}^1 + C_{10}^2 + \ldots + C_{10}^{10} $$

        Если мы добавим к этой сумме $C_{10}^0$ (все лампы выключены), то сможем воспользоваться полученным в задаче "[Биномиальная сумма](task:coeff-sum)" результатом:

        $$ C_{10}^0 + C_{10}^1 + C_{10}^2 + \ldots + C_{10}^{10} = 2^{10} $$

        Теперь вычтем из обех частей добавленное лишнее слагаемое:

        $$ C_{10}^1 + C_{10}^2 + \ldots + C_{10}^{10} = 2^{10} - C_{10}^0 = 2^{10} - 1 $$

        Итак, всего $2^{10} - 1$ способов осветить зал.
    answer: $ 2^{10} - 1 $

{ #coeff-game }
@task
    title: Игра с коэффициентами
    statement: |
        Докажите равенство:

        $$ k C_n^k = n C_{n-1}^{k-1} $$
    hint: |
        Замените биномиальные коэффициенты на их [формулы](^combinations) с факториалами.
        Воспользуйтесь рекуррентной [формулой](article|combinatorics/factorial|t:factorial-recurrent) факториала.
    solution: |
        @math
            k C_n^k = n C_{n-1}^{k-1}
            \\
            k \frac{n!}{(n-k)! \ k!} = n \frac{(n-1)!}{(n-1-k+1)! \ (k-1)!}
            \\
            \frac{n!}{(n-k)! \ k!} = \frac{\overbrace{(n-1)! \ n}^{n!}}{(n-k)! \ \underbrace{(k-1)! \ k}_{k!}}
            \\
            \frac{n!}{(n-k)! \ k!} = \frac{n!}{(n-k)! \ k!}

        $\blacksquare$

@task
    title: Больше биномиальных сумм!
    statement: |
        Доказать равенства:

        @math
            а) \ C_n^0 - C_n^1 + C_n^2 - \ldots + (-1)^{n} C_n^n = 0
            \\
            б) \ C_n^1 + 2C_n^2 + 3С_n^3 + \ldots + nC_n^n = n2^{n-1}
            \\
            в) \ C_n^1 - 2C_n^2 + 3C_n^3 - \ldots + (-1)^{n-1}nC_n^n = 0
    hint: |
        Воспользуйтесь результатами задач "[Биномиальная сумма](task:coeff-sum)" и "[Игра с коэффициентами](task:coeff-game)".
    solution: |
        ### Пункт а)
        
        $$ C_n^0 - C_n^1 + C_n^2 - \ldots + (-1)^{n} C_n^n = 0 $$

        Сумма слева похожа на [формулу](^binom) бинома Ньютона, но как-бы "без" $a$ и $b$, только с биномиальными коэффициентами.
        Перепишем эту сумму так, чтобы получилось ее "запаковать" при помощи бинома Ньютона при $a=1$ и $b=-1$:

        $$ C_n^0 1^{n} (-1)^0 + C_n^1 1^{n-1} (-1)^1 + \ldots + C_n^n 1^0(-1)^n = \\ = (1-1)^n = 0^n = 0 $$

        $\blacksquare$

        ### Пункт б)

        @math
            C_n^1 + 2C_n^2 + 3С_n^3 + \ldots + nC_n^n = n2^{n-1}

        Будем работать с левой частью равенства.<br>
        Для каждого слагаемого применяем доказанное в пункте б) равенство:

        @math
            nC_{n-1}^0 + nC_{n-1}^1 + nC_{n-1}^2 + \ldots + nC_{n-1}^{n-1}

        Выносим $n$ за скобки:

        $$ n\left( C_{n-1}^0 + C_{n-1}^1 + C_{n-1}^2 + \ldots + C_{n-1}^{n-1} \right) $$

        Теперь для суммы в скобках воспользуемся результатом задачи "[Биномиальная сумма](task:coeff-sum)":

        $$ n 2^{n-1} $$

        Левая часть теперь равна правой.

        $\blacksquare$

        ### Пункт в)
        
        $$ C_n^1 - 2C_n^2 + 3C_n^3 - \ldots + (-1)^{n-1}nC_n^n = 0 $$

        Работаем с левой частью равенства и начинаем так же, как и в пункте в):

        $$ n \left( C_{n-1}^0 - C_{n-1}^1 + C_{n-1}^2 - \ldots + (-1)^{n-1} C_{n-1}^{n-1} \right) $$

        Сумма в скобках равна $0$ согласно пункту а):

        $$ n (1 - 1)^{n-1} = n \cdot 0^n = 0 $$

        Левая часть теперь равна правой.

        $\blacksquare$

@task
    title: Квадратные коэффициенты
    statement: |
        Докажите следующее равенство про сумму квадартов биномиальных коэффициентов:

        $$ (C_n^0)^2 + (C_n^1)^2 + (C_n^3)^2 + \ldots + (C_n^n)^2 = C_{2n}^n $$
    hint: |
        Вспользуйтесь следующим равенством:

        $$ (1+x)^n (1+x)^n = (1+x)^{2n} $$

        Найдите коэффициент при $x^n$ слева и справа.
    solution: |
        ### Доказательство через бином Ньютона

        В правой части равенства стоит биномиальный коэфициент из $2n$.
        Как его можно получить с помощью [формулы](^binom) бинома Ньютона?
        Возвести какой-нибудь двучлен в степень $2n$!

        @math
            (1+x)^{2n} = C_{2n}^0 x^0 + C_{2n}^1 x^1 + \ldots + \boxed{C_{2n}^n x^n} + \ldots

        С другой стороны, запись $(1+x)^{2n}$ можно расписать иначе:

        $$ (1+x)^{2n} = \left((1+x)^n\right)^2 = (1+x)^n (1+x)^n = \\ = (C_n^0x^0 + C_n^1x^1 + \ldots)(C_n^0x^0 + C_n^1x^1 + \ldots) $$

        Все это перемножать не нужно. Нас интересует только подобные слагаемые при $x^n$.
        Тут нам сильно пригодится умение ["комбинаторного" умножения](article|example:polynom-product), то есть возможности составлять комбинации из членов перемножаемых многочленов:

        @math
            \def\arraystretch{1.3}
            \begin{array}{}
                (C_n^0x^0 + C_n^1x^1 + \ldots) & (C_n^0x^0 + C_n^1x^1 + \ldots)
                \\ \hline
                C_n^0 x^0 & C_n^n x^n & = C_n^0C_n^n x^n
                \\
                C_n^1 x^1 & C_n^{n-1}x^{n-1} & = C_n^1 C_n^{n-1} x^n
                \\
                C_n^2 x^2 & C_n^{n-2}x^{n-2} & = C_n^2 C_n^{n-2} x^n
            \end{array}

        Общую суть уловили, всего после раскрытия скобок получится $n$ подобных слагаемых при $x^n$:

        $$ C_n^0C_n^n x^n + C_n^1 C_n^{n-1} x^n + C_n^2 C_n^{n-2} x^n + \ldots + C_n^nC_n^0 x^n = \\ = x^n(C_n^0C_n^n + C_n^1 C_n^{n-1} + C_n^2 C_n^{n-2} + \ldots + C_n^nC_n^0) $$

        Вспоминаем, что "противоположные" биномиальные коэффициенты [равны](article|theorem:binom-coeff-repeat):

        $$ x^n((C_n^0)^2 + (C_n^1)^2 + (C_n^2)^2 + \ldots + (C_n^n)^2) $$

        Ну вот и все.
        С одной стороны коэффициент при $x^n$ в выражении $(x+1)^{2n}$ равен $C_{2n}^n$.
        С другой стороны, **в этом же выражении**, но рассчитанном по-другому, коэффициент при $x^n$ равен сумме квадратов биномиальных коэффициентов:

        $$ C_{2n}^n x^n = ((C_n^0)^2 + (C_n^1)^2 + \ldots + (C_n^n)^2)x^n \\ C_{2n}^n = (C_n^0)^2 + (C_n^1)^2 + \ldots + (C_n^n)^2 $$

        $\blacksquare$

        ### Комбинаторное доказательство

        Рассмотрим общий вид слагаемого в этой сумме и воспользуемся тем фактом, что "противоположные" биномиальные коэффициенты [равны](article|theorem:binom-coeff-repeat):

        $$ (C_n^k)^2 = C_n^k \cdot C_n^k = C_n^k \cdot C_n^{n-k} $$

        Это произведение можно объяснить следующим образом.
        Имеется два набора объектов, в каждом по $n$ элементов.
        Из первого набора мы берем $k$ элементов $C_n^k$ способами, а из второго $n-k$ элементов $C_n^{n-k}$ способами.
        Так как выбор из первого набора никак не влияет на выбор из второго, то можно применить [правило умножения](^productRule).

        Заметьте, что в каждом таком слагаемом мы по сути выбираем $n$ элементов из $2n$ элементов:

        * $0$ элементов из первого набора и $n$ из второго: $(C_n^0)^2$.
        * $1$ элемент из первого набора и $n-1$ из второго $(C_n^1)^2$.
        * $2$ элемента из первого набора и $n-2$ из второго $(C_n^2)^2$.
        * $\ldots$

        Но этот же результат можно получить напрямую, если свалить оба набора в одну кучу из $2n$ элементов и выбирать из нее сразу по $n$ элементов ($C_{2n}^n$).

        $$ (C_n^0)^2 + (C_n^1)^2 + (C_n^3)^2 + \ldots + (C_n^n)^2 = C_{2n}^n $$

        $\blacksquare$

@task
    title: Неравенство с биномами
    statement: |
        Докажите, что при $n\geq 2$ и $|x| \leq 1$ выполняется неравенство

        $$ (1+x)^n + (1-x)^n \leq 2^n $$
    hint: |
        Покажите, что выражение слева будет максимальным при $x=1$.
        <br>
        Затем подставьте $x=1$ в исходное неравенство.
    solution: |
        Работаем с левой частью неравенства.
        Разберемся, чему равна целая часть после того, как мы применим к обеим степеням биномов [формулу](^binom) бинома Ньютона.

        @math
            \begin{array}{}
                {\small (1+x)^n =} & C_n^0 x^0 & C_n^1 x^1 & C_n^2 x^2 & C_n^3 x^3
                \\
                & + & - & + & - & \cdots
                \\
                {\small (1-x)^n =} & C_n^0x^0 & C_n^1 x^1 & C_n^2x^2 & C_n^3 x^3
            \end{array}

        Короче, все слагаемые с нечетной степенью взаимоуничтожаются и остаются только удвоенные четные слагаемые:

        $$ 2C_n^0 x^0 + 2C_n^2x^2 + 2C_n^4x^4 + \ldots $$

        Выносим $2$ за скобку:

        $$ 2(C_n^0 x^0 + C_n^2 x^2 + C_n^4x^4 + \ldots) $$

        Во всех слагаемых внутри скобок $x$ в четной степени, поэтому наибольшего значения вся эта скобка достигнет при $x=1$ (больше $1$ нельзя присвоить из-за ограничения в условии).
        Возвращаемся к неравенству в условии и смотрим, что происходит при $x=1$:

        $$ (1+x)^n + (1-x)^n \leq 2^n + 0^n = 2^n $$

        $\blacksquare$

{ #pascal-rule }
@task
    title: Правило Паскаля
    statement: |
        Докажите равенство:

        $$ C_n^k + C_n^{k+1} = C_{n+1}^{k+1} $$
    hint: |
        Для комбинаторного доказательства рассмотрите набор из $n+1$ объектов, в числе которых есть особенный объект $X$.
        Все способы выбрать $k+1$ объектов разделите на способы выбрать их с элементом $X$ и без него.

        Для алгебраического доказательства замените биномиальные коэффициенты на их [формулы](^combinations) с факториалами.
        Воспользуйтесь рекуррентной [формулой](article|combinatorics/factorial|t:factorial-recurrent) факториала.
    solution: |
        ### Комбинаторное доказательство

        Рассмотрим набор из $n+1$ элементов, среди которых есть **особенный** элемент $X$.
        Напрямую выбрать $k+1$ элементов из этих $n+1$ можно $C_{n+1}^{k+1}$ способами.

        Но можно усложнить себе жизнь и разбить эту задачу на две подзадачи.

        Сначала выберем $k+1$ элементов из набора без элемента $X$, то есть из $n$ элементов.
        Всего $C_{n}^{k+1}$ комбинаций.

        Осталось к этим комбинациям добавить все варианты с элементом $X$.
        Для этого ставим на $k+1$ место в комбинации $X$, а способов заполнить оставшиеся $k$ мест $n$ элементами есть $C_n^k$.

        По [правилу суммы](^sumRule) получаем все способы из $n+1$ элементов составить комбинации по $k+1$ элементов:

        $$ C_n^{k+1} + C_n^k = C_{n+1}^{k+1} $$

        $\blacksquare$

        ### Алгебраическое доказательство
        
        Для начала поработаем с правой частью равенства:

        $$ C_{n+1}^{k+1} = \frac{(n+1)!}{(n+1-k-1)! \ (k+1)!} = \frac{(n+1)!}{(n-k)! \ (k+1)!} $$

        Далее, работая с левой суммой $C_n^k + C_n^{k+1}$, будем проводить преобразования так, чтобы у обеих дробей получился знаменатель $(n-k)!(k+1)!$:

        @math
            C_n^k + C_n^{k+1} = \frac{n!}{(n-k)! \ k!} + \frac{n!}{(n-k-1)! \ (k+1)!} = \\ =
            \frac{n! \ \blue{(k+1)}}{(n-k)! \ (k+1)!} + \frac{n! \ \blue{(n-k)}}{(n-k)! \ (k+1)!} = \\ =
            \frac{n!\left(k+1 + n-k\right)}{(n-k)! \ (k+1)!} = \frac{n! \ (n+1)}{(n-k)! \ (k+1)!} = \\ = \frac{(n+1)!}{(n-k)! \ (k+1) !} = C_{n+1}^{k+1}

        $\blacksquare$

        @todo
            title: Третье очевидное "доказательство" — через треугольник Паскаля!
        
        @todo
            title: Добавить в примечаниях, что это очевидное свойство из треугольника Паскаля!

@task
    title: Бином Ньютона по индукции
    statement: |
        Выведите формулу бинома Ньютона с помощью метода математической индукции.
    hint: |
        Воспользуйтесь [правилом Паскаля](task:pascal-rule),  а также следующими очевидными равенствами:

        $$ C_n^0 = C_{n+1}^0 \qquad C_n^n = C_{n+1}^{n+1} $$

        Если для вас они неочевидны, докажите сначала их.
    solution: |
        ### База индукции
        
        Проверим, работает ли [формула](^binom) бинома Ньютона при $n=1$:
        
        $$ (a+b)^1 = C_1^0 a + C_1^1 b = 1a + 1b = a+b $$

        Базу индукции доказали.

        ### Индукционный переход

        Пускай формула работает, когда $n$ равно какому-то натуральному числу $t$:

        $$ (a+b)^t = \sum\limits_{k=0}^t C_t^k a^{t-k}b^k $$

        Докажем, что и для $n=t+1$ формула будет работать.
        Для этого умножим обе части равенства выше на $(a+b)$:

        { #induction-base-equality }
        $$ (a+b)^t(a+b) = (a+b)\sum\limits_{k=0}^t C_t^k a^{t-k}b^k $$

        Слева уже получили $(a+b)^{t+1}$ и больше мы эту часть равенства трогать вообще не будем.
        Далее работаем только с правой:

        @math
            (a+b)\sum\limits_{k=0}^t C_t^k a^{t-k}b^k = \\ =
            (a+b)\left( C_t^0 a^t + C_t^1 a^{t-1}b + \ldots + C_t^t b^t \right)

        Результатом данного произведения будут две суммы.
        В одной все слагаемые из правой скобки, но с добавкой в виде $a$, а в другой те же самые слагаемые, но с добавкой $b$.
        Выпишем их друг под другом, но сумму с $b$ сместим на одно слагаемое вправо:

        @math
            \def\arraystretch{1.5}
            \begin{array}{}
                C_t^0 a^{t+1} & C_t^1 a^{t}b & C_t^2 a^{t-1}b^2 & \ldots & C_t^t ab^t
                \\
                & C_t^0 a^tb & C_t^1 a^{t-1}b^2 & \ldots & C_t^{t-1}ab^t & C_t^t b^{t+1}
            \end{array}

        Теперь сложем все это дело друг с другом, вынося за скобки $a$ и $b$ в одинаковых степенях:

        $$ C_t^0 a^{t+1} + a^tb(C_t^1 + C_t^0) + a^{t-1}b^2(C_t^2 + C_t^1) + \ldots + ab^t(C_t^t + C_t^{t-1}) + C_t^t b^{t+1} $$

        Для двух крайних слагаемых производим [замену](spoiler:induction-swap-explain) $C_t^0 = C_{t+1}^0$ и $C_t^t = C_{t+1}^{t+1}$.
        Каждую скобку с суммой биномиальных коэффициентов заменяем по [правилу Паскаля](task:pascal-rule).
        В итоге получаем вот такую сумму:

        { #induction-swap-explain }
        @spoiler
            В том, что эти равенства выполняются легко можно убедиться алгебраически.
            Но можно гораздо проще показать это комбинаторным способом.

            $C_t^t$ [означает](article|combinatorics/combination|important:combinations-purpose) количество способов выбрать $t$ предметов, когда всего их $t$.
            А сколькими способами можно выбрать все предметы?
            Конечно **одним** -- взять все предметы:

            $$ C_t^t = 1 = C_{t+1}^{t+1} $$

            Похожая ситуация и с $C_t^0$, что означает количество способов выбрать $0$ предметов из $t$.
            Способ только **один** -- ничего не взять:

            $$ C_t^0 = 1 = C_{t+1}^0 $$

            $\blacksquare$

        $$ C_{t+1}^0 a^{t+1} + C_{t+1}^1 a^tb + \ldots + C_{t+1}^{t+1}b^{t+1} = \sum\limits_{k=0}^{t+1}C_{t+1}^ka^{(t+1)-k}b^k $$

        Все это время мы работали с правой частью [исходного равенства](math:induction-base-equality):

        $$ (a+b)^{t+1} = \sum\limits_{k=0}^{t+1}C_{t+1}^ka^{(t+1)-k}b^k $$

        Индукционный переход доказан.<br>
        Значит, [формула](^binom) бинома Ньютона работает для любого натурального числа $n$.

        $\blacksquare$

@task
    title: Бином и размещения
    statement: |
        Пусть $M_r$ -- число [размещений без повторений](article|combinatorics/arrangement|d:arrangement-unique) из $m$ элементов по $r$, а $N_r$ -- число размещений без повторений из $n$ элементов по $r$.
        Докажите, что чилсо размещений из $m+n$ элементов по $r$ выражается формулой $(M+N)^r$, где в разложении надо заменить все показатели степени индексами.
    hint: |
        Адаптируйте вывод [формулы](^binom) бинома Ньютона.
    solution: |
        Пусть ровно $k$ из $r$ вакантных мест будет занято элементами из набора $M$.
        Оставшиеся $r-k$ вакантных мест займут элементы из набора $N$.
        Количество способов так распределить вакантные места равно $C_r^k$.

        $$ C_r^k $$

        $k$ мест займут $k$ элементов из набора $M$.
        Распределить эти элементы по вакантным местам можно $A_m^k$ способами.
        Вне зависимости от того, как мы распределим эти элементы, $r-k$ элементов из $N$ можно по своим местам распределить $A_n^{r-k}$ способами.

        Используем [правило умножения](^productRule) и получаем общее количество способов распределить $k$ предметов из набора $M$ и $r-k$ предметов из набора $N$ по $r$ вакантным местам.

        $$ C_r^k A_m^{k} A_n^{r-k} $$

        Но само $k$ может меняться от $0$ (элементов из набора $M$ нет вообще) до $r$ (используются только элементы набора $M$).
        Используем [правило суммы](^sumRule):

        $$ C_r^0 A_m^0 A_n^r + C_r^1 + A_m^1 A_n^{r-1} + \ldots = \\ = \sum\limits_{k=0}^r C_r^k A_m^k A_n^{r-k} \ \overset{\text{как-бы}}{=} \ (M+N)^r $$

        $\blacksquare$

{ #polynomial-theorem }
@task
    title: Полиномиальная формула
    statement: |
        Биномиальная формула (бином Ньютона) позволяет находить разложение только степеней биномов.
        Докажите общую, **полиномиальную** формулу, которая позволяет напрямую раскладывать $n$-ую степень полинома:

        $$ (x_1 + x_2 + \ldots + x_m)^n = \sum\limits_{a_1 + \ldots + a_m = n} \frac{n!}{a_1! \ a_2! \ \ldots \ a_m!} \ x_1^{a_1}x_2^{a_2} \ \ldots \ x_m^{a_m} $$
    hint: |
        Используйте понятие перестановок с повторениями и [формулу](article|combinatorics/permutation|t:permutations-repeat) их количества.
    solution: |
        Представим, что мы уже выписали разложение.
        Тогда слагаемые будут выглядеть как-то так (коэффициент опускаем):

        $$ x_1^5x_2^8x_3^0x_4^4\ldots \quad x_1^0x_2^0x_3^nx_4^0\ldots x_m^0 \quad x_1^1 x_2^1 x_3^1 \ldots x_m^1 $$

        Обратите внимание, что как бы слагаемое не выглядело, сумма показателей степеней у зависимых членов всегда обязана равняться $n$.

        С этими знаниями запишем общий вид такого слагаемого, опять же пока без коэффициента:

        $$ x_1^{a_1}x_2^{a_2}\ldots x_m^{a_m}, \ {\footnotesize \text{где } a_1 + \ldots + a_m = n} $$

        Сколько будет таких слагаемых в разложении после приведения подобных?<br>
        Столько, сколькими способами можно $n$ разложить на сумму из $m$ слагаемых по показателем степеней:

        $$ \sum\limits_{a_1 + \ldots + a_m = n} x_1^{a_1}x_2^{a_2}\ldots x_m^{a_m} $$

        Осталось только найти коэффициент перед каждым слагаемым.
        Этот коэффициент равен количеству подобных слагаемых этого вида.

        Чтобы посчитать количество подобных нам понадобится понимание ["комбинаторного" умножения](article|example:polynom-product) многочленов.
        Общий вид слагаемого распишем как комбинацию из $n$ элементов:

        $$ x_1^{a_1}x_2^{a_2}x_3^{a_3}\ldots x_m^{a_m} = \\ = \underbrace{x_1x_1\ldots}_{a_1} \ \underbrace{x_2x_2\ldots}_{a_2} \ \underbrace{x_3x_3\ldots}_{a_3} \ \ldots \ \underbrace{x_m x_m\ldots}_{a_m} $$

        Каждая перестановка этих элементов будет давать одно из подобных слагаемых.
        Тогда количество подобных будет равно [количеству](article|combinatorics/permutation|t:permutations-repeat) перестановок с повторениями:

        $$ P(a_1, \ a_2, \ \ldots, \ a_m) = \frac{n!}{a_1! \ a_2! \ \ldots \ a_m!} $$

        Коэффициент нашли.
        Записываем финальный вид формулы:

        $$ (x_1 + x_2 + \ldots + x_m)^n = \sum\limits_{a_1 + \ldots + a_m = n} \frac{n!}{a_1! \ a_2! \ \ldots \ a_m!} \ x_1^{a_1}x_2^{a_2}\ \ldots \ x_m^{a_m} $$

        $\blacksquare$

@task
    title: Полиномиальные слагаемые
    statement: |
        Найдите количество слагаемых в разложении степени полинома:

        $$ (x_1 + x_2 + \ldots + x_m)^n $$
    hint: |
        Изучите [вывод](task:polynomial-theorem) полиномиальной формулы.<br>
        Вопрос о количестве способов разбить число на слагаемые уже [рассматривался](practicum|combinatorics/combination|task:number-composition-zeros) раньше.
    solution: |
        Из [вывода](task:polynomial-theorem) полиномиальной формулы мы знаем, что количество слагаемых в разложении степени полинома равно количеству способов эту самую степень полинома $n$ разбить на $m$ слагаемых -- показателей степеней одночленов исходного полинома ($x_1, \ x_2$ и так далее).
        Причем показатель степени, а значит и слагаемое может равняться $0$.

        А количество способов разбить число $n$ на $m$ слагаемых (включая $0$) мы [выводили](practicum|combinatorics/combination|task:number-composition-zeros) в практикуме на сочетания.
        Это количество равно $\bar{C}_m^n$:

        $$ \bar{C}_m^n = C_{n+m-1}^n = \frac{(n+m-1)!}{n! \ (m-1)!} $$
    answer: |
        $$ \bar{C}_m^n = C_{n+m-1}^n = \frac{(n+m-1)!}{n! \ (m-1)!} $$

@task
    title: Один раз это надо сделать!
    statement: |
        Возвести в третью степень сумму

        $$ a + b + c + d $$
    hint: |
        Воспользуйтесь полиномиальной [формулой](task:polynomial-theorem).
    solution: |
        Начинаем всеми способами раскладывать степень полинома $3$ на $4$ слагаемых -- показателей степеней одночленов.
        Сначала перечислим третьи степени:

        @math
            \begin{array}{}
                a^3 & b^3 & c^3 & d^3
            \end{array}

        Коэффициент перед ними равен единице:

        $$ \frac{3!}{3! \ 0! \ 0! \ 0!} = 1 $$

        В итоговый результат они войдут в виде:

        $$ \boxed{a^3 + b^3 + c^3 + d^3} $$

        Дальше идут все пары одночленов со показателями степеней $2$ и $1$:

        @math
            \begin{array}{}
                a^2b & a^2c & a^2d
                \\
                b^2a & b^2c & b^2d
                \\
                c^2a & c^2b & c^2d
                \\
                d^2a & d^2b & d^2c
            \end{array}

        Считаем коэффициент перед ними:

        $$ \frac{3!}{2! \ 1! \ 0! \ 0!} = 3 $$

        В итоговый результат после вынесения одинакового коэффициента они войдут в виде:

        $$ \boxed{3(a^2b + a^2c + a^2d + b^2a + b^2c + b^2d + c^2a + c^2b + c^2d + d^2a + d^2b + d^2c)} $$

        Дальше идут все тройки одночленов в первой степени:

        @math
            \begin{array}{}
                abc & acd & abd & bcd
            \end{array}

        Считаем коэффициент перед ними:

        $$ \frac{3!}{1! \ 1! \ 1! \ 0!} = 6 $$

        В итоговый результат после вынесения одинакового коэффициента они войдут в виде:

        $$ \boxed{6(abc + acd + abd + bcd)} $$

        Выписываем итоговый результат:

        @math
            (a+b+c+d)^3 = \\ =
            a^3 + b^3 + c^3 + d^3 +
            3(a^2b + a^2c + a^2d + b^2a + b^2c + b^2d + c^2a + c^2b + c^2d + d^2a + d^2b + d^2c) +
            6(abc + acd + abd + bcd)
    answer: |
        @math
            (a+b+c+d)^3 = \\ =
            a^3 + b^3 + c^3 + d^3 +
            3(a^2b + a^2c + a^2d + b^2a + b^2c + b^2d + c^2a + c^2b + c^2d + d^2a + d^2b + d^2c) +
            6(abc + acd + abd + bcd)