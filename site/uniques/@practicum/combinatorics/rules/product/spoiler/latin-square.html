<p>Когды мы переставляем строки, их содержимое никак не меняется.
В каждой строке по прежнему уникальные цвета.
В столбцах при перестановке строк цвета просто меняют свой порядок.
Так что и тут повторений не возникает.</p>