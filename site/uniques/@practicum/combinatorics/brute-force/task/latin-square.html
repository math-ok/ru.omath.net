<div class="taskHolder" id="task:latin-square"><div class="task"><header><div class="info"><h2 class="noStyle title">Латинский квадрат</h2><div class="tags"><div class="tag">Нестандартная</div></div></div><div class="controls"><button data-section="hint" title="Указание"><i></i></button><button data-section="solution" title="Решение"><i></i></button><button data-section="answer" title="Ответ"><i></i></button></div></header><div class="statement"><p>Квадрат разделен на <span class="mathInline strMode">9</span> равных квадратов.
Сколькими способами можно раскрасить их в красный, зеленый и синий цвета так, чтобы в каждом горизонтальном и каждом вертикальном ряду были все три цвета?</p></div><section data-name="hint"><div class="inner"><header><i></i><span>Указание</span></header><div class="content"><p>Выполните переход от цветов к буквам.
Например, абстрактные буквы <span class="mathInline strMode mord">ABC</span> могут обозначать как цвета «КЗС» (<span class="mathInline strMode mord">A</span> - красный, <span class="mathInline strMode mord">B</span> - зеленый, <span class="mathInline strMode mord">C</span> - синий), так и цвета «ЗСК» (<span class="mathInline strMode mord">A</span> - зеленый, <span class="mathInline strMode mord">B</span> - синий, <span class="mathInline strMode mord">C</span> - красный).
Это позволит сильно сократить количество перебираемых вариантов.</p></div></div></section><section data-name="solution"><div class="inner"><header><i></i><span>Решение</span></header><div class="content"><p>Начнем решение задачи с того, что полностью откажемся от работы с цветами.
Вместо них мы будем использовать буквы <span class="mathInline strMode mord">A, B, C</span>. Три цвета — три буквы.</p><p>Фишка в том, что <strong>буква не привязана жестко к цвету</strong>.
Вместо этого мы сами можем <strong>назначать</strong> каждой букве свой цвет.</p><p>Строчка букв <span class="mathInline strMode mord">ABC</span> может обозначать как цвета «КЗС» (<span class="mathInline strMode mord">A</span> - красный, <span class="mathInline strMode mord">B</span> - зеленый, <span class="mathInline strMode mord">C</span> - синий), так и цвета «ЗСК» (<span class="mathInline strMode mord">A</span> - зеленый, <span class="mathInline strMode mord">B</span> - синий, <span class="mathInline strMode mord">C</span> - красный).
Перебором найдем все возможные комбинации из трех цветов:</p><div class="mathDisplay"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>КЗС</mtext><mspace width="1em"/><mtext>КСЗ</mtext><mspace width="1em"/><mtext>ЗКС</mtext><mspace width="1em"/><mtext>СКЗ</mtext><mspace width="1em"/><mtext>ЗКС</mtext><mspace width="1em"/><mtext>СЗК</mtext></mrow><annotation encoding="application/x-tex">КЗС \quad КСЗ \quad ЗКС \quad СКЗ \quad ЗКС \quad СЗК</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cyrillic_fallback">КЗС</span><span class="mspace" style="margin-right:1em;"></span><span class="mord cyrillic_fallback">КСЗ</span><span class="mspace" style="margin-right:1em;"></span><span class="mord cyrillic_fallback">ЗКС</span><span class="mspace" style="margin-right:1em;"></span><span class="mord cyrillic_fallback">СКЗ</span><span class="mspace" style="margin-right:1em;"></span><span class="mord cyrillic_fallback">ЗКС</span><span class="mspace" style="margin-right:1em;"></span><span class="mord cyrillic_fallback">СЗК</span></span></span></span></span></div><p>Итак, всего одна запись <span class="mathInline strMode mord">ABC</span> как-бы скрывает в себе сразу все <span class="mathInline strMode">6</span> возможных комбинаций из трех цветов.</p><h3 id="auto-heading:Zapolnyaem-tablicy">Заполняем таблицы<a class="hAnchor" href="#auto-heading:Zapolnyaem-tablicy" title="Ссылка на этот раздел"><i class="ic-link"></i></a></h3><p>В условии сказано про квадрат, который разделен на <span class="mathInline strMode">9</span> равных квадратов.
То есть речь идет про обычную таблицу размерами <span class="mathInline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">3 \times 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span></span>.
Верхнюю строчку этой таблицы заполним буквами <span class="mathInline strMode mord">ABC</span>:</p><style>
    .latin-square td { width: 40px; height: 40px; text-align: center; }
</style><div class="tableWrapper latin-square"><table><tr><td><span class="mathInline strMode mord">A</span></td><td><span class="mathInline strMode mord">B</span></td><td><span class="mathInline strMode mord">C</span></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></table></div><p>Держите в голове, что одна эта схематичная таблица на самом деле скрывает в себе сразу <span class="mathInline strMode">6</span> таблиц, в которых в верхней строчке вместо букв стоят все возможные комбинации трех цветов.</p><p>Теперь заполним левый столбец таблицы.
Получаем два варианта:</p><div class="array"><div class="item"><div class="tableWrapper latin-square"><table><tr><td><span class="mathInline strMode mord">A</span></td><td><span class="mathInline strMode mord">B</span></td><td><span class="mathInline strMode mord">C</span></td></tr><tr><td><span class="mathInline strMode mord">B</span></td><td></td><td></td></tr><tr><td><span class="mathInline strMode mord">C</span></td><td></td><td></td></tr></table></div></div><div class="item"><div class="tableWrapper latin-square"><table><tr><td><span class="mathInline strMode mord">A</span></td><td><span class="mathInline strMode mord">B</span></td><td><span class="mathInline strMode mord">C</span></td></tr><tr><td><span class="mathInline strMode mord">C</span></td><td></td><td></td></tr><tr><td><span class="mathInline strMode mord">B</span></td><td></td><td></td></tr></table></div></div></div><p>Опять же не забываем, что на самом деле каждая из этих двух таблиц на самом деле скрывает в себе <span class="mathInline strMode">6</span> разных вариантов, если перейти от букв к цветам.
Продолжаем заполнять оставшиеся ячейки:</p><div class="array"><div class="item"><div class="tableWrapper latin-square"><table><tr><td><span class="mathInline strMode mord">A</span></td><td><span class="mathInline strMode mord">B</span></td><td><span class="mathInline strMode mord">C</span></td></tr><tr><td><span class="mathInline strMode mord">B</span></td><td><span class="mathInline strMode mord">C</span></td><td><span class="mathInline strMode mord">A</span></td></tr><tr><td><span class="mathInline strMode mord">C</span></td><td><span class="mathInline strMode mord">A</span></td><td><span class="mathInline strMode mord">B</span></td></tr></table></div></div><div class="item"><div class="tableWrapper latin-square"><table><tr><td><span class="mathInline strMode mord">A</span></td><td><span class="mathInline strMode mord">B</span></td><td><span class="mathInline strMode mord">C</span></td></tr><tr><td><span class="mathInline strMode mord">C</span></td><td><span class="mathInline strMode mord">A</span></td><td><span class="mathInline strMode mord">B</span></td></tr><tr><td><span class="mathInline strMode mord">B</span></td><td><span class="mathInline strMode mord">C</span></td><td><span class="mathInline strMode mord">A</span></td></tr></table></div></div></div><p>Новых вариантов не появилось.
Итого у нас <span class="mathInline strMode">2</span> разные таблицы с буквами.
Но каждая из этих буквенных таблиц раскрывается в <span class="mathInline strMode">6</span> таблиц с цветами.
Получем всего <span class="mathInline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>⋅</mo><mn>6</mn><mo>=</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">2 \cdot 6 = 12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span></span> таблиц с цветами вместо букв.</p></div></div></section><section data-name="answer"><div class="inner"><header><i></i><span>Ответ</span></header><div class="content"><p><span class="mathInline strMode">12</span></p></div></div></section></div></div>